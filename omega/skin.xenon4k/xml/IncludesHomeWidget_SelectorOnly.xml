<?xml version="1.0" encoding="UTF-8"?>
<includes>
  <!-- EXACT submenu-themed selector rows (no custom textures, all via SubMenu* includes) -->
  <include name="HomeWidgetSelectorRow">
    <param name="idx" default="1" />
    <param name="listid" default="9051" />
    <definition>
      <!-- Touch/mouse tap target: visible when the main menu item has focus, even while selector is hidden -->
      <control type="button">
        <left>0</left>
        <top>540</top>
        <width>1920</width>
        <height>120</height>
        <label></label>
        <font></font>
        <texturefocus>-</texturefocus>
        <texturenofocus>-</texturenofocus>
        <onclick>SetFocus($PARAM[listid],0)</onclick>
        <!-- Optional: mouse hover also moves focus -->
        <onfocus>SetFocus($PARAM[listid],0)</onfocus>
        <!-- Show while active main menu item has focus, and only when selector doesn't already have focus -->
        <visible>Container(9000).HasFocus($PARAM[idx]) + !Control.HasFocus($PARAM[listid])</visible>
        <!-- Hide during playback to mirror row behavior -->
        <visible>!Player.HasMedia</visible>
      </control>

      <control type="group">
        <!-- Only the active menu's row is shown; keep visible while the row itself has focus -->
        <left>0</left>
        <top>570</top>
        <zorder>8</zorder>
        <visible>Container(9000).HasFocus($PARAM[idx]) | Control.HasFocus($PARAM[listid])</visible>
        <!-- Hide during playback so it won't overlap OSD/NowPlaying -->
        <visible>!Player.HasMedia</visible>

        <!-- End caps / arrows positioned via the skin's submenu helper -->
		<visible>Control.HasFocus($PARAM[listid])</visible>
        <include content="SubMenuPositionImages2">
          <param name="Control">$PARAM[listid]</param>
        </include>

        <!-- Selector list: inherits exact submenu bounds/layout via skin's own includes -->
        <control type="list" id="$PARAM[listid]">
          <!-- Use the skin's submenu common values (same left/top/width/height/scroll) -->
          <onup>9003</onup>
          <ondown>9000</ondown>
			<!-- Hide until focused (but keep control visible for routing) -->
			<alpha>0</alpha>
			<animation effect="fade" start="0" end="100" time="200" condition="Control.HasFocus($PARAM[listid])">Conditional</animation>

          <include>SubMenuCommonValues</include>

          <!-- Override navigation so UP goes to widget row and DOWN to main menu -->

          <!-- Apply the skin's submenu item/focus look exactly -->
          <include content="SubMenuCommonLayout">
            <!-- pass through default visibility param used for highlight overlay -->
            <param name="visibility">Control.HasFocus($PARAM[listid])</param>
          </include>

          <!-- Content: up to 10 widget buttons (only show buttons that have widgets set) -->
          <content>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget1.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget1.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget1)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget1.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget2.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget2.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget2)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget2.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget3.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget3.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget3)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget3.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget4.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget4.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget4)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget4.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget5.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget5.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget5)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget5.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget6.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget6.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget6)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget6.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget7.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget7.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget7)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget7.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget8.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget8.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget8)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget8.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget9.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget9.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget9)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget9.Widget))</visible>
            </item>
            <item>
              <label>$INFO[Skin.String(HomeItem.$PARAM[idx].Widget10.Name)]</label>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].Widget,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget10.Widget)])</onclick>
              <onclick>Skin.SetString(HomeItem.$PARAM[idx].ActiveWidget,Widget10)</onclick>
              <onclick>SetProperty(WidgetSet,$INFO[Skin.String(HomeItem.$PARAM[idx].Widget)],Home)</onclick>
              <visible>!String.IsEmpty(Skin.String(HomeItem.$PARAM[idx].Widget10.Widget))</visible>
            </item>
          </content>
        </control>
      </control>
    </definition>
  </include>

  <!-- Selector host: both routers + 15 rows -->
  <include name="HomeWidgetSelector">
    <definition>
      <!-- Focus routers for UP from main menu -->
      <control type="button" id="9090">        
	  <onfocus condition="Player.HasMedia + Control.IsVisible(604)">SetFocus(604)</onfocus>
		<left>-1000</left><top>-1000</top><width>1</width><height>1</height>
		<onfocus condition="Container(9000).HasFocus(1) + Control.IsVisible(9051) + Integer.IsGreater(Container(9051).NumItems,0) + !Player.HasMedia">SetFocus(9051,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(1) + [!Control.IsVisible(9051) | Integer.IsEqual(Container(9051).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(2) + Control.IsVisible(9052) + Integer.IsGreater(Container(9052).NumItems,0) + !Player.HasMedia">SetFocus(9052,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(2) + [!Control.IsVisible(9052) | Integer.IsEqual(Container(9052).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(3) + Control.IsVisible(9053) + Integer.IsGreater(Container(9053).NumItems,0) + !Player.HasMedia">SetFocus(9053,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(3) + [!Control.IsVisible(9053) | Integer.IsEqual(Container(9053).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(4) + Control.IsVisible(9054) + Integer.IsGreater(Container(9054).NumItems,0) + !Player.HasMedia">SetFocus(9054,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(4) + [!Control.IsVisible(9054) | Integer.IsEqual(Container(9054).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(5) + Control.IsVisible(9055) + Integer.IsGreater(Container(9055).NumItems,0) + !Player.HasMedia">SetFocus(9055,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(5) + [!Control.IsVisible(9055) | Integer.IsEqual(Container(9055).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(6) + Control.IsVisible(9056) + Integer.IsGreater(Container(9056).NumItems,0) + !Player.HasMedia">SetFocus(9056,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(6) + [!Control.IsVisible(9056) | Integer.IsEqual(Container(9056).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(7) + Control.IsVisible(9057) + Integer.IsGreater(Container(9057).NumItems,0) + !Player.HasMedia">SetFocus(9057,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(7) + [!Control.IsVisible(9057) | Integer.IsEqual(Container(9057).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(8) + Control.IsVisible(9058) + Integer.IsGreater(Container(9058).NumItems,0) + !Player.HasMedia">SetFocus(9058,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(8) + [!Control.IsVisible(9058) | Integer.IsEqual(Container(9058).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(9) + Control.IsVisible(9059) + Integer.IsGreater(Container(9059).NumItems,0) + !Player.HasMedia">SetFocus(9059,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(9) + [!Control.IsVisible(9059) | Integer.IsEqual(Container(9059).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(10) + Control.IsVisible(9060) + Integer.IsGreater(Container(9060).NumItems,0) + !Player.HasMedia">SetFocus(9060,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(10) + [!Control.IsVisible(9060) | Integer.IsEqual(Container(9060).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(11) + Control.IsVisible(9061) + Integer.IsGreater(Container(9061).NumItems,0) + !Player.HasMedia">SetFocus(9061,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(11) + [!Control.IsVisible(9061) | Integer.IsEqual(Container(9061).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(12) + Control.IsVisible(9062) + Integer.IsGreater(Container(9062).NumItems,0) + !Player.HasMedia">SetFocus(9062,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(12) + [!Control.IsVisible(9062) | Integer.IsEqual(Container(9062).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(13) + Control.IsVisible(9063) + Integer.IsGreater(Container(9063).NumItems,0) + !Player.HasMedia">SetFocus(9063,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(13) + [!Control.IsVisible(9063) | Integer.IsEqual(Container(9063).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(14) + Control.IsVisible(9064) + Integer.IsGreater(Container(9064).NumItems,0) + !Player.HasMedia">SetFocus(9064,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(14) + [!Control.IsVisible(9064) | Integer.IsEqual(Container(9064).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(15) + Control.IsVisible(9065) + Integer.IsGreater(Container(9065).NumItems,0) + !Player.HasMedia">SetFocus(9065,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(15) + [!Control.IsVisible(9065) | Integer.IsEqual(Container(9065).NumItems,0)] + !Player.HasMedia">SetFocus(9003)</onfocus>
</control>
      <control type="button" id="9091">
	    <left>-1000</left>
		<top>-1000</top>
		<width>1</width>
		<height>1</height>
		<label></label>
		<font></font>
		<texturefocus>-</texturefocus>
		<texturenofocus>-</texturenofocus>
        <onfocus condition="Player.HasMedia">SetFocus(9003)</onfocus>
        <onfocus condition="Container(9000).HasFocus(1) + Control.IsVisible(9051) + Integer.IsGreater(Container(9051).NumItems,0)">SetFocus(9051,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(1) + [!Control.IsVisible(9051) | Integer.IsEqual(Container(9051).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(2) + Control.IsVisible(9052) + Integer.IsGreater(Container(9052).NumItems,0)">SetFocus(9052,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(2) + [!Control.IsVisible(9052) | Integer.IsEqual(Container(9052).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(3) + Control.IsVisible(9053) + Integer.IsGreater(Container(9053).NumItems,0)">SetFocus(9053,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(3) + [!Control.IsVisible(9053) | Integer.IsEqual(Container(9053).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(4) + Control.IsVisible(9054) + Integer.IsGreater(Container(9054).NumItems,0)">SetFocus(9054,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(4) + [!Control.IsVisible(9054) | Integer.IsEqual(Container(9054).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(5) + Control.IsVisible(9055) + Integer.IsGreater(Container(9055).NumItems,0)">SetFocus(9055,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(5) + [!Control.IsVisible(9055) | Integer.IsEqual(Container(9055).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(6) + Control.IsVisible(9056) + Integer.IsGreater(Container(9056).NumItems,0)">SetFocus(9056,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(6) + [!Control.IsVisible(9056) | Integer.IsEqual(Container(9056).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(7) + Control.IsVisible(9057) + Integer.IsGreater(Container(9057).NumItems,0)">SetFocus(9057,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(7) + [!Control.IsVisible(9057) | Integer.IsEqual(Container(9057).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(8) + Control.IsVisible(9058) + Integer.IsGreater(Container(9058).NumItems,0)">SetFocus(9058,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(8) + [!Control.IsVisible(9058) | Integer.IsEqual(Container(9058).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(9) + Control.IsVisible(9059) + Integer.IsGreater(Container(9059).NumItems,0)">SetFocus(9059,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(9) + [!Control.IsVisible(9059) | Integer.IsEqual(Container(9059).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(10) + Control.IsVisible(9060) + Integer.IsGreater(Container(9060).NumItems,0)">SetFocus(9060,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(10) + [!Control.IsVisible(9060) | Integer.IsEqual(Container(9060).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(11) + Control.IsVisible(9061) + Integer.IsGreater(Container(9061).NumItems,0)">SetFocus(9061,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(11) + [!Control.IsVisible(9061) | Integer.IsEqual(Container(9061).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(12) + Control.IsVisible(9062) + Integer.IsGreater(Container(9062).NumItems,0)">SetFocus(9062,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(12) + [!Control.IsVisible(9062) | Integer.IsEqual(Container(9062).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(13) + Control.IsVisible(9063) + Integer.IsGreater(Container(9063).NumItems,0)">SetFocus(9063,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(13) + [!Control.IsVisible(9063) | Integer.IsEqual(Container(9063).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(14) + Control.IsVisible(9064) + Integer.IsGreater(Container(9064).NumItems,0)">SetFocus(9064,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(14) + [!Control.IsVisible(9064) | Integer.IsEqual(Container(9064).NumItems,0)]">SetFocus(9000)</onfocus>
        <onfocus condition="Container(9000).HasFocus(15) + Control.IsVisible(9065) + Integer.IsGreater(Container(9065).NumItems,0)">SetFocus(9065,0)</onfocus>
        <onfocus condition="Container(9000).HasFocus(15) + [!Control.IsVisible(9065) | Integer.IsEqual(Container(9065).NumItems,0)]">SetFocus(9000)</onfocus>
</control>

      <!-- 15 rows -->
      <include content="HomeWidgetSelectorRow"><param name="idx">1</param><param name="listid">9051</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">2</param><param name="listid">9052</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">3</param><param name="listid">9053</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">4</param><param name="listid">9054</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">5</param><param name="listid">9055</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">6</param><param name="listid">9056</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">7</param><param name="listid">9057</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">8</param><param name="listid">9058</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">9</param><param name="listid">9059</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">10</param><param name="listid">9060</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">11</param><param name="listid">9061</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">12</param><param name="listid">9062</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">13</param><param name="listid">9063</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">14</param><param name="listid">9064</param></include>
      <include content="HomeWidgetSelectorRow"><param name="idx">15</param><param name="listid">9065</param></include>
    </definition>
  </include>
</includes>